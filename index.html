<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/run1.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/run2.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wangpeng-developer.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Attitude is everything">
<meta property="og:type" content="website">
<meta property="og:title" content="Peng&#39;blog">
<meta property="og:url" content="https://wangpeng-developer.github.io/index.html">
<meta property="og:site_name" content="Peng&#39;blog">
<meta property="og:description" content="Attitude is everything">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Peng Wang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://wangpeng-developer.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Peng'blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <a target="_blank" rel="noopener" href="https://github.com/wangpeng-developer" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Peng'blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">来和我一起交流学习吧！</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">7</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">8</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wangpeng-developer.github.io/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dog.jpg">
      <meta itemprop="name" content="Peng Wang">
      <meta itemprop="description" content="Attitude is everything">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Peng'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">JavaWeb核心笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-05-22 14:53:32 / 修改时间：15:24:03" itemprop="dateCreated datePublished" datetime="2022-05-22T14:53:32+08:00">2022-05-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="JavaWeb-技术栈"><a href="#JavaWeb-技术栈" class="headerlink" title="JavaWeb 技术栈"></a>JavaWeb 技术栈</h1><p>B/S 架构：Browser/Server，浏览器/服务器架构模式，它的特点是，客户端只需要浏览器，应用程序的逻辑和数据都存储在服务器端。浏览器只需要请求服务器，获取Web资源，服务器把Web资源发送给浏览器即可。</p>
<p>好处：易于维护升级：服务器端升级后，客户端无需任何部署就可以使用到新的版本</p>
<p><strong>静态资源</strong>：HTML、CSS、JavaScript、图片等。负责页面展示</p>
<p><strong>动态资源</strong>：Servlet、JSP等。负责逻辑处理</p>
<p><strong>数据库</strong>：负责存储数据</p>
<p><strong>HTTP协议</strong>：定义通信规则</p>
<p><strong>Web服务器</strong>：负责解析HTTP协议，解析请求数据，并发送响应数据</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/BS%E6%9E%B6%E6%9E%84.png" alt="BS架构.png"></p>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>概念：<strong>超文本传输协议</strong>(HyperText Transfer Protocol)，规定了浏览器和服务器之间数据传输的规则</p>
<p>HTTP 协议特点：</p>
<ol>
<li>基于TCP协议：面向连接，安全</li>
<li>基于请求-响应模型的：一次请求对应一次响应</li>
<li>HTTP协议是无状态的协议：对于事务处理没有记忆能力。每次请求-响应都是独立的。</li>
</ol>
<h3 id="HTTP-请求数据格式"><a href="#HTTP-请求数据格式" class="headerlink" title="HTTP 请求数据格式"></a>HTTP 请求数据格式</h3><p><strong>请求数据分为三部分：</strong></p>
<ol>
<li><p>请求行：请求数据的第一行。其中GET表示请求方式，/ 表示请求资源路径，HTTP/1.1表示协议版本</p>
</li>
<li><p>请求头：第二行开始，格式为key：value形式。</p>
</li>
<li><p>请求体：POST请求的最后一部分，存放请求参数</p>
</li>
</ol>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/request_get.png" alt="request_get.png"></p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/request_post.png" alt="request_post.png"></p>
<p><strong>GET请求和POST请求区别：</strong></p>
<ol>
<li><p>GET请求参数在请求行中，没有请求体。POST请求请求参数在请求体中</p>
</li>
<li><p>GET请求参数大小有限制，POST没有</p>
</li>
<li><p>POST请求安全性更高，Get请求发送的数据会显式地跟在URL后面</p>
</li>
</ol>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/get_parameter.png" alt="get_parameter.png"></p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/post_parameter.png" alt="post_parameter.png"></p>
<h3 id="HTTP-响应数据格式"><a href="#HTTP-响应数据格式" class="headerlink" title="HTTP-响应数据格式"></a>HTTP-响应数据格式</h3><p><strong>响应数据分为三部分：</strong></p>
<p>1.响应行：响应数据的第一行。其中HTTP/1.1表示协议版本，200表示响应状态码，OK表示状态码描述</p>
<p>2.响应头：第二行开始，格式为key：value形式</p>
<p>3.响应体：最后一部分。存放响应数据</p>
<h3 id="常见的响应状态"><a href="#常见的响应状态" class="headerlink" title="常见的响应状态"></a>常见的响应状态</h3><table>
<thead>
<tr>
<th align="center">状态码</th>
<th align="center">英文描述</th>
<th align="center">解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center">200</td>
<td align="center">OK</td>
<td align="center">客户端请求成功，即<strong>处理成功</strong>，这是我们最想看到的状态码</td>
</tr>
<tr>
<td align="center">302</td>
<td align="center">Found</td>
<td align="center">指示所请求的资源已移动到由Location响应头给定的URL，浏览器会自动重新访问到这个页面<strong>（即重定向）</strong></td>
</tr>
<tr>
<td align="center">400</td>
<td align="center">Bad Requeest</td>
<td align="center">客户端请求有语法错误，不能被服务器所理解</td>
</tr>
<tr>
<td align="center">403</td>
<td align="center">Forbidden</td>
<td align="center">服务器收到请求，但是拒绝提供服务，比如：没有权限访问相关资源</td>
</tr>
<tr>
<td align="center">404</td>
<td align="center">Not Found</td>
<td align="center">请求资源不存在，一般是URL输入有误，或者网站资源被删除了</td>
</tr>
<tr>
<td align="center">500</td>
<td align="center">Internal Server Error</td>
<td align="center">服务器发生不可预期的错误。服务器出异常了，赶紧看日志去吧</td>
</tr>
</tbody></table>
<p>状态码大全：<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/chapter/13553">https://cloud.tencent.com/developer/chapter/13553</a></p>
<h2 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h2><p>概念：Tomcat是Apache 软件基金会一个核心项目，是一个开源免费的轻量级Web服务器。</p>
<p>官网：<a target="_blank" rel="noopener" href="https://tomcat.apache.org/">https://tomcat.apache.org/</a></p>
<p>Web服务器作用</p>
<ul>
<li>封装HTTP协议操作，简化开发</li>
<li>可以将web项目部署到服务器中，对外提供网上浏览服务</li>
</ul>
<p>下载页面</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/tomcat.png" alt="tomcat.png"></p>
<p>解决Tomcat启动控制台中文乱码问题，修改conf/logging.properties文件。将其编码方式utf-8改成GBK即可</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/console.png" alt="console.png"></p>
<p>修改启动端口号：conf/server.xml</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/modify_port.png" alt="modify_port.png"></p>
<p>注：HTTP协议<strong>默认端口号为80</strong>，如果将Tomcat端口号改为80，则将来访问Tomcat时，将不用输入端口号</p>
<p><strong>将本地Tomcat集成到IDEA中去</strong></p>
<p>第一种方法：</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/1.png" alt="1.png"></p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/2.png" alt="2.png"></p>
<p>第二种方法：添加以下内容到pom.xml中</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Tomcat插件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 访问端口号 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">port</span>&gt;</span>80<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--访问项目路径--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">path</span>&gt;</span>/<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/3.png" alt="3.png"></p>
<h2 id="Servlet快速入门"><a href="#Servlet快速入门" class="headerlink" title="Servlet快速入门"></a>Servlet快速入门</h2><ol>
<li><p>创建web项目，导入Servlet依赖坐标</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>定义一个类，实现Servlet接口，并重写接口中的所有方法。</p>
</li>
<li><p>在类中使用**@WebServlet**注解，配置该Servlet的访问路径</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/Servlet.png" alt="Servlet.png"></p>
</li>
<li><p>启动Tomcat，在浏览器中输入URl访问该Servlet</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/demo</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/Servlet_sout.png" alt="Servlet_sout.png"></p>
</li>
</ol>
<h3 id="Servlet生命周期"><a href="#Servlet生命周期" class="headerlink" title="Servlet生命周期"></a>Servlet生命周期</h3><p>Servlet运行在Servlet容器（web服务器）中，其生命周期由容器来管理，分为4个阶段：</p>
<p>1.加载和实例化：默认情况下，当Servlet第一次被访问时，由容器创建Servlet对象</p>
<p>2.初始化：在Servlet实例化之后，容器将调用<strong>Servlet的init()方法</strong>初始化这个对象，完成一些如加载配置文件、创建连接等初始化的工作。该方法只调用一次</p>
<p>3.请求处理：每次请求Servlet时，Servlet容器都会调用<strong>Servlet的service()方法</strong>对请求进行处理</p>
<p>4.服务终止：当需要释放内存或者容器关闭时，容器就会调用Servlet实例的<strong>destroy()方法</strong>完成资源的释放。在destroy()方法调用之后，容器会释放这个Servlet实例，该实例随后会被Java的垃圾收集器所回收</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/WebServlet.png" alt="WebServlet.png"></p>
<h3 id="HttpServlet"><a href="#HttpServlet" class="headerlink" title="HttpServlet"></a>HttpServlet</h3><ol>
<li><p>HttpServlet使用步骤</p>
<ul>
<li>继承HttpServlet</li>
<li>重写doGet和doPost方法</li>
</ul>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/method.png" alt="method.png"></p>
</li>
</ol>
<h3 id="Servlet-urlPattern配置"><a href="#Servlet-urlPattern配置" class="headerlink" title="Servlet urlPattern配置"></a>Servlet urlPattern配置</h3><ol>
<li>精确匹配<ul>
<li>配置路径   <code>@WebServlet(&quot;/demo02&quot;)</code></li>
<li>访问路径   <code>localhost/demo02</code></li>
</ul>
</li>
<li>目录匹配<ul>
<li>配置路径    <code>@WebServlet(&quot;/demo04/*&quot;)</code></li>
<li>访问路径    <code>localhost/demo04/aaa</code>    <code>localhost/demo04/bbb</code></li>
</ul>
</li>
<li>扩展名匹配<ul>
<li>配置路径     <code>@WebServlet(&quot;*.demo05&quot;)</code></li>
<li>访问路径     <code>localhost/1.demo05</code></li>
</ul>
</li>
<li>任意匹配<ul>
<li>配置路径     <code>@WebServlet(&quot;/&quot;)  @WebServlet(&quot;/*&quot;)</code></li>
<li>访问路径      <code>http://localhost/hahaha</code></li>
</ul>
</li>
</ol>
<h3 id="XML配置方式编写Servlet"><a href="#XML配置方式编写Servlet" class="headerlink" title="XML配置方式编写Servlet"></a>XML配置方式编写Servlet</h3><p>Servlet 从3.0版本后开始支持使用注解配置，3.0版本前只支持XML配置文件的配置方式步骤：</p>
<ol>
<li>编写Servlet类</li>
<li>在web.xml中配置该Servlet</li>
</ol>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/xml_servlet.png" alt="xml_servlet.png"></p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/ServletDemo07.png" alt="ServletDemo07.png"></p>
<h3 id="Request-和-Response"><a href="#Request-和-Response" class="headerlink" title="Request 和 Response"></a>Request 和 Response</h3><p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/Response&Request.png" alt="Response&amp;Request.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/demo08&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo08</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 使用request对象获取请求数据</span></span><br><span class="line">        String name = req.getParameter(<span class="string">&quot;name&quot;</span>);    <span class="comment">// url?name=wangpeng</span></span><br><span class="line">        <span class="comment">// 使用response对象设置响应数据</span></span><br><span class="line">        resp.setHeader(<span class="string">&quot;content-type&quot;</span>, <span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        resp.getWriter().write(<span class="string">&quot;&lt;h1&gt;&quot;</span> + name + <span class="string">&quot;,欢迎你!&quot;</span> + <span class="string">&quot;&lt;/h1&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Post...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/Response.png" alt="Response.png"></p>
<h3 id="HttpServletRequest-接口"><a href="#HttpServletRequest-接口" class="headerlink" title="HttpServletRequest 接口"></a>HttpServletRequest 接口</h3><ol>
<li>获取请求行数据的常用方法</li>
</ol>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/Request.png" alt="Request.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        String method = req.getMethod();</span><br><span class="line">        System.out.println(<span class="string">&quot;获取请求方式：&quot;</span> + method);</span><br><span class="line">        String contextPath = req.getContextPath();</span><br><span class="line">        System.out.println(<span class="string">&quot;获取虚拟目录：&quot;</span> + contextPath);</span><br><span class="line">        StringBuffer requestURL = req.getRequestURL();</span><br><span class="line">        System.out.println(<span class="string">&quot;获取URL(统一资源定位符)：&quot;</span> + requestURL);</span><br><span class="line">        String requestURI = req.getRequestURI();</span><br><span class="line">        System.out.println(<span class="string">&quot;获取URI(统一资源标识符)：&quot;</span> + requestURI);</span><br><span class="line">        String queryString = req.getQueryString();</span><br><span class="line">        System.out.println(<span class="string">&quot;获取请求参数：&quot;</span>+ queryString);</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         *   获取请求方式：GET</span></span><br><span class="line"><span class="comment">         *   获取虚拟目录：</span></span><br><span class="line"><span class="comment">         *   获取URL(统一资源定位符)：http://localhost/demo09</span></span><br><span class="line"><span class="comment">         *   获取URI(统一资源标识符)：/demo09</span></span><br><span class="line"><span class="comment">         *   获取请求参数：null</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>获取请求头数据的常用方法</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/request_header.png" alt="request_head.png"></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String agent = req.getHeader(<span class="string">&quot;user-agent&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;浏览器版本信息：&quot;</span> + agent);</span><br><span class="line"><span class="comment">// 浏览器版本信息：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36 Edg/100.0.1185.50</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>获取Post请求的请求体数据</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/Request_body.png" alt="Request_body.png"></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取字符输入流</span></span><br><span class="line">BufferedReader reader = req.getReader();</span><br><span class="line">String regStr = reader.readLine();</span><br><span class="line">System.out.println(regStr);</span><br></pre></td></tr></table></figure>

<h3 id="Request通用方式获取请求参数"><a href="#Request通用方式获取请求参数" class="headerlink" title="Request通用方式获取请求参数"></a>Request通用方式获取请求参数</h3><p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/common_method.png" alt="common_method.png"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/demo10&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">    用户：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>篮球</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>乒乓球<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> Map&lt;String, String[]&gt; map = req.getParameterMap();</span><br><span class="line"> <span class="comment">// 获取key值</span></span><br><span class="line"> <span class="keyword">for</span> (String key : map.keySet()) &#123;</span><br><span class="line">    System.out.print(key + <span class="string">&quot;:&quot;</span>);</span><br><span class="line">    <span class="comment">// 根据key值获取values值</span></span><br><span class="line">    String[] values = map.get(key);</span><br><span class="line">    <span class="keyword">for</span> (String value : values) &#123;</span><br><span class="line">        System.out.print(value + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 根据key值获取多个value值</span></span><br><span class="line">String[] hobbies = req.getParameterValues(<span class="string">&quot;hobby&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (String hobby : hobbies) &#123;</span><br><span class="line">    System.out.println(hobby);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 根据key值获取单个value值</span></span><br><span class="line">String username = req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">System.out.println(username);</span><br></pre></td></tr></table></figure>

<h3 id="Request-请求参数中文乱码处理（Tomcat-8已解决）"><a href="#Request-请求参数中文乱码处理（Tomcat-8已解决）" class="headerlink" title="Request 请求参数中文乱码处理（Tomcat 8已解决）"></a>Request 请求参数中文乱码处理（Tomcat 8已解决）</h3><p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/Post_encoding.png" alt="Post_encoding.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 解决中文乱码问题，将字符输入流的编码方式设为utf-8</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        String username = request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        System.out.println(username);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>Get请求参数获取，浏览器通过URL编码将中文转成一段字符串数据（% + 十六进制的形式），发送给Tomcat服务器。中文乱码的原因在于编解码使用的字符集不同。</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/Get_encoding.png" alt="Get_encoding.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 乱码原因：tomcat进行URl解码，默认字符集为ISO-8859-1</span></span><br><span class="line">        String username = request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="comment">// 先对乱码数据进行编码，转成字节数组</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = username.getBytes(StandardCharsets.ISO_8859_1);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bytes, <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/Common.png" alt="Common.png"></p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/Tomcat8.0.png" alt="Tomcat8.0.png"></p>
<h3 id="Request请求转发"><a href="#Request请求转发" class="headerlink" title="Request请求转发"></a>Request请求转发</h3><ul>
<li>请求转发(forward)：一种在服务器内部的资源跳转方式</li>
</ul>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/forward.png" alt="forward.png"></p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/ServletDemo12.png" alt="ServletDemo12.png"></p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/ServletDemo13.png" alt="ServletDemo13.png"></p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/result.png" alt="result.png"></p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/forward_data.png" alt="forward_data.png"></p>
<p><strong>请求转发特点：</strong></p>
<ol>
<li>浏览器地址栏路径不发生变化</li>
<li>只能转发到当前服务器的内部资源一次请求</li>
<li>可以在转发的资源间使用request共享数据</li>
</ol>
<h3 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h3><p>使用Response对象来设置响应数据</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/response_data.png" alt="response_data.png"></p>
<p><strong>Response完成重定向</strong></p>
<ul>
<li><p>重定向(Redirect)：一种资源跳转方式</p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/redirect.png" alt="redirect.png"></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ResponseDemo1&quot;</span>);</span><br><span class="line">        <span class="comment">// 设置响应状态码 302</span></span><br><span class="line">        response.setStatus(<span class="number">302</span>);</span><br><span class="line">        <span class="comment">// 设置响应头 Location</span></span><br><span class="line">        response.setHeader(<span class="string">&quot;Location&quot;</span>, <span class="string">&quot;/ResponseDemo2&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 简化方式完成重定向    response.sendRedirect(&quot;/ResponseDemo2&quot;);</span></span><br></pre></td></tr></table></figure>

<p>重定向特点：</p>
<ul>
<li>浏览器地址栏路径发生变化</li>
<li>可以重定向到任意位置的资源（服务器内部、外部均可）</li>
<li>两次请求，不能在多个资源使用request共享数据</li>
</ul>
<p>路径问题：</p>
<ul>
<li>浏览器使用：需要加虚拟目录（项目访问路径）</li>
<li>服务端使用：不需要加虚拟目录</li>
</ul>
<p><strong>response响应字符数据</strong></p>
<ol>
<li>字符输出流</li>
</ol>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/responsedata.png" alt="responsedata.png"></p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/4.png" alt="4.png"></p>
<ul>
<li>该流不需要关闭，随着响应结束，response对象销毁，由服务器关闭</li>
<li>中文数据乱码：原因通过Response获取的字符输出流默认编码：ISO-8859-1</li>
</ul>
<ol start="2">
<li>字节输出流</li>
</ol>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/5.png" alt="5.png"></p>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/6.png" alt="6.png"></p>
<h3 id="IOUtils工具类使用"><a href="#IOUtils工具类使用" class="headerlink" title="IOUtils工具类使用"></a>IOUtils工具类使用</h3><ul>
<li>导入坐标</li>
</ul>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/7.png" alt="7.png"></p>
<ul>
<li>copy的使用</li>
</ul>
<p><img src="/2022/05/22/JavaWeb%E6%A0%B8%E5%BF%83%E7%AC%94%E8%AE%B0/8.png" alt="8.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wangpeng-developer.github.io/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dog.jpg">
      <meta itemprop="name" content="Peng Wang">
      <meta itemprop="description" content="Attitude is everything">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Peng'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">Mybatis笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-05-14 20:41:54 / 修改时间：21:43:13" itemprop="dateCreated datePublished" datetime="2022-05-14T20:41:54+08:00">2022-05-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="什么是Mybatis？"><a href="#什么是Mybatis？" class="headerlink" title="什么是Mybatis？"></a>什么是Mybatis？</h1><ul>
<li>MyBatis 是一款优秀的持久层框架，用于简化JDBC开发</li>
<li>MyBatis 本是 Apache 的一个开源项目iBatis，2010年这个项目由apache software foundation 迁移到了google code，并且改名为MyBatis。2013年11月迁移到Github</li>
<li>官网：<a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/index.html">https://mybatis.org/mybatis-3/zh/index.html</a></li>
</ul>
<p><strong>持久层</strong></p>
<ul>
<li>负责将数据到保存到数据库的那一层代码</li>
<li>JavaEE三层架构：表现层、业务层、持久层</li>
</ul>
<p><strong>框架</strong></p>
<ul>
<li>框架就是一个半成品软件，是一套可重用的、通用的、软件基础代码模型</li>
<li>在框架的基础之上构建软件编写更加高效、规范、通用、可扩展</li>
</ul>
<h1 id="MyBatis-快速入门"><a href="#MyBatis-快速入门" class="headerlink" title="MyBatis 快速入门"></a>MyBatis 快速入门</h1><p>查询数据库mybatis中user表中所有数据</p>
<ol>
<li>创建user表，添加数据</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database mybatis;</span><br><span class="line">use mybatis;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> tb_user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tb_user(</span><br><span class="line">		id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">		username <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">		gender <span class="type">char</span>(<span class="number">1</span>),</span><br><span class="line">		addr <span class="type">varchar</span>(<span class="number">30</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user <span class="keyword">values</span>(<span class="number">1</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;北京&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user <span class="keyword">values</span>(<span class="number">2</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;天津&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user <span class="keyword">values</span>(<span class="number">3</span>, <span class="string">&#x27;王五&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;西安&#x27;</span>);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建模块，在pom.xml中导入依赖坐标</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mybatis 依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mysql驱动 依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.32<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    	<span class="comment">&lt;!--junit测试 依赖--&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>MyBatis核心配置文件（mybatis-config.xml） - - &gt; 编写数据库连接信息</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--数据库连接信息--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSl=false&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;wangpeng&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--加载sql映射文件 mybatis-config.xml和userMapper.xml在同一目录下--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;userMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>编写SQL映射文件（userMapper.xml） - - &gt; 统一管理sql语句，解决硬编码问题</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;mybatis&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.wangpeng.User&quot;</span>&gt;</span></span><br><span class="line">        select * from tb_user;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>编码<br>1.定义User类<br>2.加载核心配置文件，获取SqlSessionFactory对象<br>3.获取SqlSession对象，执行SQL 语句<br>4.释放资源</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wangpeng;</span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@PACKAGE</span> com.wangpeng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@AUTHOR</span> Webber Wang</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/5/6 19:07</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DESCRIPTION</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String gender;</span><br><span class="line">    <span class="keyword">private</span> String addr;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getGender</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setGender</span><span class="params">(String gender)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddr</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> addr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddr</span><span class="params">(String addr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.addr = addr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, gender=&#x27;&quot;</span> + gender + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, addr=&#x27;&quot;</span> + addr + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wangpeng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@PACKAGE</span> com.wangpeng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@AUTHOR</span> Webber Wang</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/5/6 19:17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DESCRIPTION</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1.加载mybatis的核心配置文件，获取sqlSessionFactory</span></span><br><span class="line">        String resource = <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.获取sqlSession对象，用来执行sql</span></span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.执行sql  (namespace.id)</span></span><br><span class="line">        List&lt;User&gt; usersInfo = sqlSession.selectList(<span class="string">&quot;mybatis.selectAll&quot;</span>);</span><br><span class="line">        System.out.println(usersInfo);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.释放资源</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// [User&#123;id=1, username=&#x27;张三&#x27;, gender=&#x27;男&#x27;, addr=&#x27;北京&#x27;&#125;, User&#123;id=2, username=&#x27;李四&#x27;, gender=&#x27;男&#x27;, addr=&#x27;天津&#x27;&#125;, User&#123;id=3, username=&#x27;王五&#x27;, gender=&#x27;男&#x27;, addr=&#x27;西安&#x27;&#125;]</span></span><br></pre></td></tr></table></figure>

<h1 id="Mapper-代理开发"><a href="#Mapper-代理开发" class="headerlink" title="Mapper 代理开发"></a>Mapper 代理开发</h1><ol>
<li><p>定义与SQL映射文件同名的Mapper接口，并且将Mapper接口和SQL映射文件放置在同一目录下</p>
</li>
<li><p>设置SQL映射文件的namespace属性为UserMapper接口全限定名</p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/MapperNamespace.png" alt="MapperNamespace.png"></p>
</li>
<li><p>在Mapper接口中定义方法，方法名就是SQL映射文件中sql语句的id，并保持参数类型和返回值类型一致</p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/selectAll.png" alt="selectAll.png"></p>
</li>
<li><p>编码<br>1.通过SqlSession的getMapper方法获取Mapper接口的代理对象</p>
<p>2.调用对应方法完成sql的执行</p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1.png" alt="代理对象.png"></p>
</li>
</ol>
<h1 id="类型别名（typeAliases）"><a href="#类型别名（typeAliases）" class="headerlink" title="类型别名（typeAliases）"></a>类型别名（typeAliases）</h1><p>类型别名可为 Java 类型设置一个缩写名字。 它仅用于 XML 配置，意在降低冗余的全限定类名书写。</p>
<p>每一个在包 <code>com.wangpeng.classes</code> 中的 Java Bean，在没有注解的情况下，会使用 Bean 的首字母小写的非限定类名来作为它的别名。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.wangpeng.classes&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.wangpeng.interfaces.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">        select * from tb_user;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="数据库字段与类属性名称不一致"><a href="#数据库字段与类属性名称不一致" class="headerlink" title="数据库字段与类属性名称不一致"></a>数据库字段与类属性名称不一致</h1><p>创建resultMap标签，将数据库字段与类属性字段联系起来</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;brandResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;brand&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;brand_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;brandName&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;company_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;companyName&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;brandResultMap&quot;</span>&gt;</span></span><br><span class="line">     select * from tb_brand;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h1><h2 id="单条件查询"><a href="#单条件查询" class="headerlink" title="单条件查询"></a>单条件查询</h2><p>id数据从BrandTest.java中获取，传递给BrandMapper接口中selectById方法中，再传递给BrandMapper.xml中。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    参数占位符：</span></span><br><span class="line"><span class="comment">           1.#&#123;&#125;：会将其替换为？，防止SQL注入</span></span><br><span class="line"><span class="comment">           2.$&#123;&#125;：拼字符串，可能会存在SQL注入</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;brandResultMap&quot;</span>&gt;</span></span><br><span class="line">        select * from tb_brand where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Brand <span class="title">selectById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"><span class="comment">// 根据字段id查询</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelectById</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 接收参数</span></span><br><span class="line">    <span class="keyword">int</span> id = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 1.加载 mybatis的核心配置文件，获取sqlSessionFactory</span></span><br><span class="line">    String resource = <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">    InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">    SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.获取 sqlSession对象</span></span><br><span class="line">    SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3.获得 brandMapper接口的代理对象</span></span><br><span class="line">    BrandMapper brandMapper = sqlSession.getMapper(BrandMapper.class);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4.执行方法</span></span><br><span class="line">    Brand brand = brandMapper.selectById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(brand);</span><br><span class="line">    <span class="comment">// 5.释放资源</span></span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="多条件查询"><a href="#多条件查询" class="headerlink" title="多条件查询"></a>多条件查询</h2><p><strong>多条件参数传递有三种方式：</strong></p>
<ol>
<li>散装参数：如果方法中有多个参数，需要使用@Param来指定参数的选取</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 多条件查询 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByCondition&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;brandResultMap&quot;</span>&gt;</span></span><br><span class="line">    select * from tb_brand where id = #&#123;id&#125; and brand_name like #&#123;brandName&#125; and company_name like #&#123;companyName&#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">List&lt;Brand&gt; <span class="title">selectByCondition</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> <span class="keyword">int</span> id, <span class="meta">@Param(&quot;brandName&quot;)</span> String brandName, <span class="meta">@Param(&quot;companyName&quot;)</span> String companyName)</span></span>;</span><br><span class="line"><span class="comment">// 多条件查询</span></span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/condition_one.png" alt="condition_one.png"></p>
<ol start="2">
<li>对象参数：对象的属性名称要和参数占位符名称一致</li>
</ol>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/three.png" alt="three.png"></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/four.png" alt="four.png"></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/condition_two.png" alt="condition_two.png"></p>
<ol start="3">
<li>map集合参数：只需要保证SQL中的参数名和map集合的键的名称对应上，即可设置成功</li>
</ol>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/condition_three.png" alt="condition_three.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">List&lt;Brand&gt; <span class="title">selectByCondition</span><span class="params">(Map map)</span></span>;</span><br></pre></td></tr></table></figure>

<h2 id="查询动态SQL"><a href="#查询动态SQL" class="headerlink" title="查询动态SQL"></a>查询动态SQL</h2><p><strong>SQL语句会随着用户的输入或外部条件的变化而变化，我们称为动态SQL。</strong></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/DynamicSql.png" alt="DynamicSql.png"></p>
<p>这种方法有一定的弊端，就是当第一个字段为null时，sql语句有语法错误。</p>
<p><strong>改进后</strong></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/DynamicSqlOne.png" alt="DynamicSqlOne.png"></p>
<p><strong>等效于</strong></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/DynamicSqlTwo.png" alt="DynamicSqlTwo.png"></p>
<p><strong>单条件</strong></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/DynamicSqlThree.png" alt="DynamicSqlThree.png"></p>
<h1 id="添加数据"><a href="#添加数据" class="headerlink" title="添加数据"></a>添加数据</h1><p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/Add_data.png" alt="Add_data.png"></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/Add_data_one.png" alt="Add_data_one.png"></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/Add_data_two.png" alt="Add_data_two.png"></p>
<p><strong>MyBatis事务：</strong></p>
<p>openSession（）：默认开启事务，进行增删改操作后需要使用 sqlSession.commit()；</p>
<p>手动提交事务openSession（true）：可以设置为自动提交事务（关闭事务）</p>
<p><strong>获取主键id值</strong></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/get_id.png" alt="get_id.png"></p>
<h1 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h1><p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/update_one.png" alt="update_one.png"></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/update_two.png" alt="update_two.png"></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/update_three.png" alt="update_three.png"></p>
<p><strong>动态SQL</strong></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/update_four.png" alt="update_four.png"></p>
<p>上面的写法有两种弊端，其一是接收参数的值全为null时，sql语句语法错误，<code>update tb_user set where id=?</code>其二在于当第一个参数有值时，而它之后的参数的值全为null时，这会导致编写的sql语句语法错误，<code>update tb_user set company_name = ?,where id = ?</code></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/update_five.png" alt="update_five.png"></p>
<h1 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h1><ol>
<li>删除单行数据</li>
</ol>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/delete_one.png" alt="delete_one.png"></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/delete_two.png" alt="delete_two.png"></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/delete_three.png" alt="delete_three.png"></p>
<ol start="2">
<li><p>删除多行数据</p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/deleteByIds_one.png" alt="deleteByIds_one.png"></p>
</li>
</ol>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/deleteByIds_two.png" alt="deleteByIds_two.png"></p>
<p>等价于</p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/deleteByIds_four.png" alt="deleteByIds_four.png"></p>
<p><img src="/2022/05/14/Mybatis%E7%AC%94%E8%AE%B0/deleteByIds_three.png" alt="deleteByIds_three.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wangpeng-developer.github.io/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dog.jpg">
      <meta itemprop="name" content="Peng Wang">
      <meta itemprop="description" content="Attitude is everything">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Peng'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/" class="post-title-link" itemprop="url">linux学习笔记一</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-05 19:42:59" itemprop="dateCreated datePublished" datetime="2022-05-05T19:42:59+08:00">2022-05-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-05-06 13:23:13" itemprop="dateModified" datetime="2022-05-06T13:23:13+08:00">2022-05-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h1><p>添加用户<code>webber</code>，使用命令<code>useradd webber</code></p>
<p>该命令创建的用户的组名默认为其用户名本身，也就是webber。</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/useradd.png" alt="useradd.png"></p>
<h1 id="给用户添加密码"><a href="#给用户添加密码" class="headerlink" title="给用户添加密码"></a>给用户添加密码</h1><p>给用户<code>webber</code>添加密码，使用命令<code>passwd webber</code></p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/userpassword.png" alt="userpassword.png"></p>
<h1 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h1><ul>
<li>删除用户<code>webber</code>,但是要保留家目录。<code>userdel webber</code></li>
<li>删除用户jack以及用户主目录。<code>userdel -r jack</code></li>
</ul>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/delwebber.png" alt="delwebber.png"></p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/deljack.png" alt="deljack.png"></p>
<h1 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h1><p>切换用户(switch user)命令：<code>su - 切换用户名</code></p>
<p>注意：从<strong>权限高</strong>的用户切换到<strong>权限低</strong>的用户，不需要输入密码。而<strong>普通用户之间</strong>切换以及普通用户切换到root用户，则需要输入对方的密码。当需要返回到之前的用户，可以使用<strong>logout/exit</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 ~]# su - wangpeng</span><br><span class="line">上一次登录：五 1月 14 20:25:04 CST 2022从 10.11.1.119pts/1 上</span><br><span class="line">[wangpeng@CentOS7 ~]$ su - root</span><br><span class="line">密码：</span><br><span class="line">上一次登录：六 1月 15 00:17:52 CST 2022从 10.11.1.119pts/0 上</span><br></pre></td></tr></table></figure>

<h1 id="用户组"><a href="#用户组" class="headerlink" title="用户组"></a>用户组</h1><p>系统可以对多个用户进行统一管理。</p>
<ul>
<li>新增组，<code>groupadd 组名</code></li>
<li>删除组，<code>groupdel 组名</code></li>
<li>添加用户的同时添加组，基本语法：<code>useradd -g 用户组 用户名</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 ~]# groupadd huaguoshan</span><br><span class="line">[root@CentOS7 ~]# useradd -g huaguoshan sunwukong</span><br><span class="line">[root@CentOS7 ~]# id sunwukong</span><br><span class="line">uid=1001(sunwukong) gid=1001(huaguoshan) 组=1001(huaguoshan)</span><br></pre></td></tr></table></figure>

<ul>
<li>修改用户的用户组，<code>usermode -g 用户组 用户名</code> </li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 home]# groupadd xitianqujing</span><br><span class="line">[root@CentOS7 home]# id sunwukong</span><br><span class="line">uid=1001(sunwukong) gid=1001(huaguoshan) 组=1001(huaguoshan)</span><br><span class="line">[root@CentOS7 home]# usermod -g xitianqujing sunwukong</span><br><span class="line">[root@CentOS7 home]# id sunwukong</span><br><span class="line">uid=1001(sunwukong) gid=1002(xitianqujing) 组=1002(xitianqujing)</span><br></pre></td></tr></table></figure>

<h1 id="用户和用户组的相关文件"><a href="#用户和用户组的相关文件" class="headerlink" title="用户和用户组的相关文件"></a>用户和用户组的相关文件</h1><ul>
<li><code>/etc/passwd</code> 用户(user)的配置文件，记录用户的各种信息</li>
<li><code>/etc/shadow</code> 口令的配置文件</li>
<li><code>/etc/group</code>组(group)的配置文件，记录用户组的相关信息</li>
</ul>
<h1 id="运行级别"><a href="#运行级别" class="headerlink" title="运行级别"></a>运行级别</h1><p>运行级别说明：</p>
<ul>
<li>0：关机</li>
<li>1：单用户</li>
<li>2：多用户状态，没有网络服务</li>
<li><strong>3：多用户状态，有网络服务</strong></li>
<li>4：系统未使用</li>
<li><strong>5：图形界面</strong></li>
<li>6：系统重启</li>
</ul>
<p>命令：<code>init 0/1/2/3/4/5/6</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> multi-user.target: analogous to runlevel 3</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> graphical.target: analogous to runlevel 5</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> To view current default target, run:</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> systemctl get-default</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> To <span class="built_in">set</span> a default target, run:</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> systemctl set-default TARGET.target</span></span><br></pre></td></tr></table></figure>

<p><strong>查看当前默认运行级别以及将运行级别5切换到运行级别3</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 etc]# systemctl get-default</span><br><span class="line">graphical.target</span><br><span class="line">[root@CentOS7 etc]# systemctl set-default multi-user.target</span><br><span class="line">Removed symlink /etc/systemd/system/default.target.</span><br><span class="line">Created symlink from /etc/systemd/system/default.target to /usr/lib/systemd/system/multi-user.target.</span><br></pre></td></tr></table></figure>

<h1 id="帮助指令"><a href="#帮助指令" class="headerlink" title="帮助指令"></a>帮助指令</h1><ol>
<li><strong>man</strong>获取帮助信息，<code>mam [命令或配置文件]</code></li>
<li><strong>help</strong>获取shell内置命令，<code>help 命令</code></li>
</ol>
<h1 id="文件目录操作"><a href="#文件目录操作" class="headerlink" title="文件目录操作"></a>文件目录操作</h1><p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/directory.jpg" alt="directory"></p>
<ul>
<li><p><strong><code>pwd</code>指令</strong></p>
<p>功能描述：显示当前工作目录的绝对路径</p>
</li>
<li><p><strong><code>ls</code>指令</strong></p>
<p>基本语法：<code>ls [选项][目录或文件]</code></p>
<p>常用选项：</p>
<p>-a：显示当前目录所有的文件和目录，包括隐藏文件。</p>
<p>-l：显示当前目录下文件的详细信息</p>
</li>
<li><p><strong><code>cd</code>指令</strong></p>
<p>基本语法：<code>cd [绝对路径或相对路径]</code></p>
<p><code>cd ~ 或者cd</code>：进入家目录</p>
<p>普通用户为 /home/用户名，root用户为/root</p>
<p><code>cd ..</code>：进入当前目录的上一级目录</p>
</li>
<li><p><strong><code>mkdir</code>指令</strong></p>
<p>功能描述：该指令用于创建目录</p>
<p>基本语法：<code>mkdir [选项] 目录</code></p>
<p>常用选项：-p是创建多级目录</p>
</li>
<li><p><strong><code>rmdir</code>指令</strong></p>
<p>功能描述：该指令用于删除空目录</p>
<p>如果需要删除非空目录，则可以使用**<code>rm -rf 需要删除的目录或文件</code>**</p>
<p>-r   Recursive  递归的</p>
<p>-f   Force     强制的</p>
</li>
<li><p><strong><code>cp</code>指令</strong></p>
<p>功能描述：将文件拷贝到指定目录下</p>
<p>基本语法：**<code>cp [选项] source destination</code>**</p>
<p>常用选项：-r   递归复制整个文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 home]# cd hello</span><br><span class="line">[root@CentOS7 hello]# touch hello.txt</span><br><span class="line">[root@CentOS7 hello]# touch hello1.txt</span><br><span class="line">[root@CentOS7 hello]# ls </span><br><span class="line">hello1.txt  hello.txt</span><br><span class="line">[root@CentOS7 hello]# cd ..</span><br><span class="line">[root@CentOS7 home]# cp -r ./hello /root</span><br><span class="line">[root@CentOS7 home]# ls /root/hello</span><br><span class="line">hello1.txt  hello.txt</span><br></pre></td></tr></table></figure></li>
<li><p><strong><code>mv</code>指令</strong></p>
<p>功能描述：移动文件或目录以及可以进行重命名的操作</p>
<p><strong>案例一：将home目录下的<code>cat.txt</code>重命名为<code>pig.txt</code></strong></p>
</li>
</ul>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/rename.png" alt="rename.png"></p>
<p>​       <strong>案例二：将home目录下的<code>pig.txt</code>移动到root目录下</strong></p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/move.png" alt="move"></p>
<p>​       <strong>案例三：移动整个目录，将home目录下的animal移动到root目录下</strong></p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/move%E7%9B%AE%E5%BD%95.png" alt="move目录.png"></p>
<ul>
<li><p><strong><code>cat</code>指令</strong></p>
<p>功能描述：查看文件内容，该命令只能浏览文件，而不能修改文件。</p>
<p>基本语法：<code>cat [选项] 要查看的文件</code></p>
<p>常用选项：-n   可以显示行号             </p>
<p>为了浏览方便，我们一般会带上管道命令  | more，示例如下。</p>
<p><code>[root@CentOS7 ~]# cat -n /etc/profile | more</code></p>
</li>
<li><p><strong><code>more</code>指令</strong></p>
<p>基本语法：<strong>more 要查看的文件</strong></p>
<blockquote>
<p>linux学习笔记一 more 命令类似 cat ，不过会以一页一页的形式显示，更方便使用者逐页阅读，而最基本的指令就是按空白键（space）就往下一页显示，按 b 键就会往回（back）一页显示。</p>
</blockquote>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">操作</th>
<th align="center">功能说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">空白键（space）</td>
<td align="center">代表向下翻一页</td>
</tr>
<tr>
<td align="center">Enter</td>
<td align="center">代表向下翻一行</td>
</tr>
<tr>
<td align="center">q</td>
<td align="center">代表立即离开</td>
</tr>
<tr>
<td align="center">=</td>
<td align="center">输出当前行的行号</td>
</tr>
<tr>
<td align="center">:f</td>
<td align="center">输出文件名和当前行的行号</td>
</tr>
</tbody></table>
<ul>
<li><p><strong><code>less指令</code></strong></p>
<p>基本语法：<strong>less 要查看的文件</strong></p>
<blockquote>
<p>less指令用来分屏查看文件内容，它的功能与more指令类似，less指令在显示文件内容时，并不是一次将整个文件加载之后再显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。</p>
</blockquote>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">操作</th>
<th align="center">功能说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">空白键（space）</td>
<td align="center">向下翻动一页</td>
</tr>
<tr>
<td align="center">PageUp</td>
<td align="center">向上翻动一页</td>
</tr>
<tr>
<td align="center">PageDown</td>
<td align="center">向下翻动一页</td>
</tr>
<tr>
<td align="center">/字符串</td>
<td align="center">向下搜寻字符串的功能；n：向下查找；N：向上查找</td>
</tr>
<tr>
<td align="center">?字符串</td>
<td align="center">向上搜寻字符串的功能；n：向下查找；N：向上查找</td>
</tr>
<tr>
<td align="center">q</td>
<td align="center">离开</td>
</tr>
</tbody></table>
<ul>
<li><p><strong><code>echo指令</code></strong></p>
<p>基本语法：echo  输出内容</p>
</li>
</ul>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/echo.png" alt="echo.png"></p>
<ul>
<li><p><strong><code>head指令</code></strong></p>
<blockquote>
<p>head用于显示文件的开头部分内容，默认情况下head指令显示文件的前10行内容，也可以查看指定行数，基本语法为：head -n 5 文件（该指令为查看文件前5行内容，5可以为任意行数）</p>
</blockquote>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 ~]# head /etc/profile</span><br><span class="line"># /etc/profile</span><br><span class="line"></span><br><span class="line"># System wide environment and startup programs, for login setup</span><br><span class="line"># Functions and aliases go in /etc/bashrc</span><br><span class="line"></span><br><span class="line"># It&#x27;s NOT a good idea to change this file unless you know what you</span><br><span class="line"># are doing. It&#x27;s much better to create a custom.sh shell script in</span><br><span class="line"># /etc/profile.d/ to make custom changes to your environment, as this</span><br><span class="line"># will prevent the need for merging in future updates.</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 ~]# head -n 5 /etc/profile</span><br><span class="line"># /etc/profile</span><br><span class="line"></span><br><span class="line"># System wide environment and startup programs, for login setup</span><br><span class="line"># Functions and aliases go in /etc/bashrc</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong><code>tail指令</code></strong></p>
<blockquote>
<p>tail用于输出文件中尾部的内容，默认情况下tail指令显示文件的后10行内容，也可以查看指定行数，基本语法为：tail -n 5 文件（该指令为查看文件后5行内容，5可以为任意行数）</p>
</blockquote>
</li>
<li><p><strong><code>&gt;指令 和 &gt;&gt;指令</code></strong></p>
<p>基本语法：</p>
<ol>
<li><code>ls -l &gt; a.txt</code>    （功能描述：将该目录下的内容<strong>覆盖写入</strong>到<code>a.txt</code>中）</li>
<li><code>cat hello.txt &gt;&gt; b.txt</code>      (功能描述：将hello.txt的内容<strong>追加写入</strong>到<code>b.txt</code>中)</li>
</ol>
</li>
</ul>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/%E8%A6%86%E7%9B%96%E5%86%99%E5%85%A5.png" alt="覆盖写入.png"></p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/add.png" alt="add.png"></p>
<ul>
<li><p><strong><code>ln指令</code></strong></p>
<blockquote>
<p>类似于windows中的快捷方式</p>
</blockquote>
<p>基本语法：<code>ln -s [源文件] [软链接名]</code></p>
<p>案例一：在<code>/home</code>目录下创建一个软链接<code>myroot</code>，链接到<code>/root</code>目录</p>
</li>
</ul>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/software-link.png" alt="software-link.png"></p>
<h1 id="关机-amp-重启命令"><a href="#关机-amp-重启命令" class="headerlink" title="关机&amp;重启命令"></a>关机&amp;重启命令</h1><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>shutdown -h now</td>
<td>立刻进行</td>
</tr>
<tr>
<td>shutdown -h 1</td>
<td>1分钟之后关机</td>
</tr>
<tr>
<td>shutdown -r now</td>
<td>现在重启</td>
</tr>
<tr>
<td>halt</td>
<td>关机</td>
</tr>
<tr>
<td>reboot</td>
<td>重启</td>
</tr>
<tr>
<td>sync</td>
<td>把内存的数据同步到磁盘</td>
</tr>
</tbody></table>
<h1 id="查找指令"><a href="#查找指令" class="headerlink" title="查找指令"></a>查找指令</h1><ul>
<li><strong><code>find指令</code></strong></li>
</ul>
<blockquote>
<p>Linux find 命令用来在指定目录下查找文件。</p>
</blockquote>
<p>基本语法：<code>find [搜索范围] [选项]</code></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-name  filename</td>
<td>按照指定的文件名来查找文件</td>
</tr>
<tr>
<td>-user  username</td>
<td>按照所属用户名来查找文件</td>
</tr>
<tr>
<td>-size</td>
<td>按照文件大小来查找文件</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查找home目录下的hello.txt文件</span></span><br><span class="line">[root@CentOS7 home]# find /home -name hello.txt</span><br><span class="line">/home/hello.txt</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找home目录下用户wangpeng创建的文件</span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># find /home -user wangpeng</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找根目录下大小大于200M的文件</span></span><br><span class="line"><span class="comment"># 注意：+n 代表大于   -n 代表小于  n 代表等于</span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># find / -size +200M</span></span><br></pre></td></tr></table></figure>



<ul>
<li><p><strong><code>which</code>指令</strong></p>
<blockquote>
<p>该指令可以查看某个指令在哪个目录下</p>
</blockquote>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看ls指令在哪个目录</span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># which ls</span></span><br><span class="line"><span class="built_in">alias</span> ls=<span class="string">&#x27;ls --color=auto&#x27;</span></span><br><span class="line">	/usr/bin/ls</span><br></pre></td></tr></table></figure>



<ul>
<li><p><strong><code>grep指令</code></strong></p>
<blockquote>
<p>grep指令为过滤查找，通常与管道命令一起使用，管道符号”|”，表示将前一个命令的处理结果传递给后面的命令处理</p>
</blockquote>
</li>
</ul>
<p>基本语法：<code>grep [选项] 查找内容 源文件</code></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>显示匹配行及行号</td>
</tr>
<tr>
<td>-i</td>
<td>忽略字母大小写</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找home目录下hello.txt文件中含有“hello”字段的行及行号</span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># cat hello.txt | grep -n &quot;hello&quot;</span></span><br><span class="line">4:hello</span><br><span class="line">[root@CentOS7 home]<span class="comment"># grep -n &quot;hello&quot; hello.txt </span></span><br><span class="line">4:hello</span><br></pre></td></tr></table></figure>

<h1 id="压缩和解压缩"><a href="#压缩和解压缩" class="headerlink" title="压缩和解压缩"></a>压缩和解压缩</h1><ul>
<li><p><strong><code>gzip/gunzip指令</code></strong></p>
<blockquote>
<p>gzip 用于压缩文件， 基本语法：<code>gzip 文件</code>，该命令只能将文件压缩成<code> *.gz文件</code></p>
<p>gunzip是用于解压缩文件， 基本语法：<code>gunzip 文件名.gz</code></p>
<p><strong>默认删除源文件</strong></p>
</blockquote>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 home]<span class="comment"># gzip /home/hello.txt</span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># ls</span></span><br><span class="line">hello.txt.gz  sunwukong  wangpeng</span><br><span class="line">[root@CentOS7 home]<span class="comment"># gunzip /home/hello.txt.gz</span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># ls</span></span><br><span class="line">hello.txt  sunwukong  wangpeng</span><br></pre></td></tr></table></figure>



<ul>
<li><p><strong><code>zip/unzip</code></strong></p>
<p>基本语法：</p>
<p><strong><code>zip [选项] *.zip(压缩后的文件名) 要压缩的文件</code></strong>    常用选项：<code>-r</code>，递归压缩</p>
<p><strong><code>unzip [选项] 要解压缩的文件</code></strong>     常用选项：<code>-d &lt;目录&gt;</code>  指定解压后文件的存放目录</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将home目录下所有文件压缩成myhome.zip</span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># zip -r myhome.zip /home/</span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># ls</span></span><br><span class="line">hello.txt  myhome.zip  sunwukong  wangpeng</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将myhome.zip解压缩到/home/wangpeng/目录下</span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># unzip -d /home/wangpeng myhome.zip </span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># cd wangpeng</span></span><br><span class="line">[root@CentOS7 wangpeng]<span class="comment"># ls</span></span><br><span class="line">hello1.txt  home  公共  模板  视频  图片  文档  下载  音乐  桌面</span><br></pre></td></tr></table></figure>



<ul>
<li><p><strong><code>tar</code></strong></p>
<blockquote>
<p>Unix和类Unix系统上的压缩打包工具，可以将多个文件合并为一个文件，打包后的文件后缀亦为tar。</p>
</blockquote>
<p>当你想要压缩一大堆文件时，你得先将这一大堆文件先打成一个包（tar命令），然后再用压缩程序进行压缩（gzip bzip2命令）</p>
<p><strong>基本语法：</strong></p>
<p><strong><code>tar [选项] xxx.tar.gz 需要打包的内容</code></strong></p>
<p><strong><code>tar [选项] xxx.tar.gz -C&lt;目的目录&gt;</code></strong></p>
</li>
</ul>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>生成.tar打包文件</td>
</tr>
<tr>
<td>-v</td>
<td>显示详细内容</td>
</tr>
<tr>
<td>-f</td>
<td>指定压缩后的文件名</td>
</tr>
<tr>
<td>-z</td>
<td>用 gzip 对存档压缩或解压</td>
</tr>
<tr>
<td>-x</td>
<td>解包.tar文件</td>
</tr>
</tbody></table>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打包并压缩home目录下的cat.txt、dog.txt以及hello.txt</span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># tar -zcvf animal.tar.gz cat.txt dog.txt hello.txt </span></span><br><span class="line">cat.txt</span><br><span class="line">dog.txt</span><br><span class="line">hello.txt</span><br><span class="line">[root@CentOS7 home]<span class="comment"># ls</span></span><br><span class="line">animal.tar.gz  cat.txt  dog.txt  hello.txt  sunwukong  wangpeng</span><br></pre></td></tr></table></figure>

  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压缩animal.tar.gz</span></span><br><span class="line">[root@CentOS7 home]<span class="comment"># tar -zxvf animal.tar.gz </span></span><br><span class="line">cat.txt</span><br><span class="line">dog.txt</span><br><span class="line">hello.txt</span><br><span class="line">[root@CentOS7 home]<span class="comment"># ls</span></span><br><span class="line">animal.tar.gz  cat.txt  dog.txt  hello.txt  sunwukong  wangpeng</span><br></pre></td></tr></table></figure>

<h1 id="文件基本属性"><a href="#文件基本属性" class="headerlink" title="文件基本属性"></a>文件基本属性</h1><p>在 linux学习笔记一 中我们可以使用 ll 或者 ls –l 命令来显示一个文件的属性以及文件所属的用户和组。</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/permission.png" alt="permission.png"></p>
<p><strong>第一个字符（第0位）代表文件的类型</strong></p>
<ul>
<li>当为 <strong>d</strong> 时，则为目录</li>
<li>当为 <strong>-</strong>  时，则为普通文件</li>
<li>当为 <strong>l</strong>  时，则为链接文件</li>
<li>当为 <strong>c</strong> 时，则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。</li>
<li>当为 <strong>b</strong> 时，则表示为装置文件里面的可供储存的接口设备(可随机存取装置)。</li>
</ul>
<p>接下来的字符中，以三个为一组，且均为 rwx 的三个参数的组合。其中， r 代表**可读(read)<strong>、 w 代表</strong>可写(write)<strong>、 x 代表</strong>可执行(execute)**。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号 - 而已。</p>
<p><strong>第 1-3位</strong>确定该文件的<strong>所有者</strong>拥有该文件的权限            —-user</p>
<p><strong>第4-6位</strong>确定所属组（所有者的同组用户）拥有该文件的权限          —-group</p>
<p><strong>第7-9位</strong>确定其他用户拥有该文件的权限                  —–others</p>
<ul>
<li><p><strong>rwx权限详解</strong></p>
<ol>
<li>rwx作用在文件上<ul>
<li>【r】代表可读：可以读取，查看</li>
<li>【w】代表可写：可以修改，但是不代表可以删除该文件，删除该文件的前提条件时对该文件所在的目录有写权限，才可以删除该文件。</li>
<li>【x】代表可执行</li>
</ul>
</li>
<li>rwx作用到目录上<ul>
<li>【r】代表可读：可以读取，ls查看目录内容</li>
<li>【w】代表可写：可以修改，可以在目录下创建、删除文件以及重命名目录</li>
<li>【x】代表可执行：可以进入该目录</li>
</ul>
</li>
<li>可用数字表示为：r = 4，w = 2，x = 1，因此rwx = 7</li>
</ol>
</li>
<li><p><strong><code>chown指令</code></strong></p>
<blockquote>
<p><strong>chown（change owner）：修改文件所有者</strong>，哪个用户创建了某个文件，那么这个文件的所有者就是这个用户。</p>
<p><strong>基本语法：chown 用户名 文件名</strong></p>
</blockquote>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/chown.png" alt="chown.png"></p>
</li>
<li><p><strong><code>chgrp指令</code></strong></p>
<blockquote>
<p><strong>chgrp（change group）:修改文件所在的组</strong>，当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组。</p>
<p><strong>基本语法：chgrp 组名 文件名</strong></p>
</blockquote>
</li>
</ul>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/chgrp.png" alt="chgrp.png"></p>
<ul>
<li><p><strong><code>chmod指令</code></strong></p>
<p>基本说明：该指令可以修改文件或者目录的权限</p>
<p><strong>①第一种方法</strong>：</p>
<ol>
<li><p>给abc文件的所有者<strong>读写执行</strong>的权限，给所在组<strong>读执行</strong>的权限，给其他组<strong>读执行</strong>的权限。</p>
<p><strong><code>chmod u=rwx,g=rx,o=rx abc</code></strong></p>
</li>
<li><p>给abc文件的所有者<strong>除去执行</strong>的权限，给所属组<strong>增加写</strong>的权限。</p>
<p><strong><code>chmod u-x,g+w abc</code></strong></p>
</li>
<li><p>给abc文件的所有用户<strong>增加读</strong>的权限</p>
<p><strong><code>chmod a+r abc</code></strong></p>
</li>
</ol>
<p><strong>②第二种方法：</strong></p>
<p>通过数字变更权限</p>
<p>r = 4，w = 2， x = 1</p>
<p>案例演示：</p>
<p>将/home/abc.txt文件的权限修改成**<code>rwxr-xr-x</code>**使用数字的方式实现：</p>
<p><strong>chmod 755 /home/abc.txt</strong></p>
</li>
</ul>
<h1 id="任务调度"><a href="#任务调度" class="headerlink" title="任务调度"></a>任务调度</h1><p>任务调度：是指系统在哪个时间段执行特定的命令或程序</p>
<p>基本语法：<code>crontab【选项】</code></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-e</td>
<td>编辑crontab定时</td>
</tr>
<tr>
<td>-l</td>
<td>查询crontab任务</td>
</tr>
<tr>
<td>-r</td>
<td>删除当前用户所有的crontab任务</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">先执行crontab -e命令</span><br><span class="line">接着再输入</span><br><span class="line">*/1 * * * * ls -l /etc/ &gt; /tmp/to.txt</span><br></pre></td></tr></table></figure>

<h1 id="磁盘分区和挂载"><a href="#磁盘分区和挂载" class="headerlink" title="磁盘分区和挂载"></a>磁盘分区和挂载</h1><p>将分区挂载到目录中，实现磁盘与目录之间的联系。当系统中进入目录时，相当于访问这个分区。</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/Mount.png" alt="Mount.png"></p>
<ul>
<li><p>查看所有设备挂载情况</p>
<p>基本语法：lsblk  或者 lsblk -f</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-f           显示文件系统信息。</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 ~]<span class="comment"># lsblk -f</span></span><br><span class="line">NAME            FSTYPE      LABEL           UUID                                   MOUNTPOINT</span><br><span class="line">sda                                                                                </span><br><span class="line">├─sda1          xfs                         5d6d3a8f-ce6c-46f0-8845-3ab262d4ea07   /boot</span><br><span class="line">└─sda2          LVM2_member                 VAI02s-KL5T-YdIS-ebvi-QRV3-yMSa-SRYYeC </span><br><span class="line">  ├─centos-root xfs                         4bdae3bd-7bfa-4546-94f3-7d0c53ddde15   /</span><br><span class="line">  └─centos-swap swap                        6d03fb36-1255-4271-8522-9ecce67cae53   [SWAP]</span><br><span class="line">sr0             iso9660     CentOS 7 x86_64 2020-11-04-11-36-43-00                 /run/media/root/CentOS 7 x86_64</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>①给虚拟机增加一块新硬盘：</strong></p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/addNewDisk.png" alt="addNewDisk.png"></p>
<p><strong>②</strong>查看设备挂载情况</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/lsblk.png" alt="lsblk.png"></p>
<p>我们可以发现，发现sdb磁盘没有分区，分区命令：<code>fdisk /dev/sdb</code></p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/partition.png" alt="partition.png"></p>
<p>这时候就给sdb增加了一个分区sdb1，我们可以通过命令 <strong>lsblk</strong> 查看</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/sdb1.png" alt="sdb1.png"></p>
<p>但这个时候，我们还需要给这个分区格式化，格式化命令：<code>mkfs -t ext4 /dev/sdb1</code>      -t 表示类型type</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/partition_format.png" alt="partition_format.png"></p>
<p>我们可以看到，sdb1分区格式化之后，可以看到它的UUID</p>
<p>接下来将/dev/sdb1挂载到/newdisk目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 /]<span class="comment"># mount /dev/sdb1 /newdisk/</span></span><br><span class="line">[root@CentOS7 /]<span class="comment"># lsblk -f</span></span><br><span class="line">NAME            FSTYPE      LABEL           UUID                                   MOUNTPOINT</span><br><span class="line">sda                                                                                </span><br><span class="line">├─sda1          xfs                         5d6d3a8f-ce6c-46f0-8845-3ab262d4ea07   /boot</span><br><span class="line">└─sda2          LVM2_member                 VAI02s-KL5T-YdIS-ebvi-QRV3-yMSa-SRYYeC </span><br><span class="line">  ├─centos-root xfs                         4bdae3bd-7bfa-4546-94f3-7d0c53ddde15   /</span><br><span class="line">  └─centos-swap swap                        6d03fb36-1255-4271-8522-9ecce67cae53   [SWAP]</span><br><span class="line">sdb                                                                                </span><br><span class="line">└─sdb1          ext4                        c041abec-8ba4-4c89-9b41-cb3327b57ef7   /newdisk</span><br><span class="line">sr0             iso9660     CentOS 7 x86_64 2020-11-04-11-36-43-00                 /run/media/root/CentOS 7 x86_64</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="磁盘情况查询"><a href="#磁盘情况查询" class="headerlink" title="磁盘情况查询"></a>磁盘情况查询</h1><ul>
<li><p>查询系统整体磁盘使用情况</p>
<p>基本语法：<strong>df  - h</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 /]<span class="comment"># df -h</span></span><br><span class="line">文件系统                 容量  已用  可用 已用% 挂载点</span><br><span class="line">devtmpfs                 894M     0  894M    0% /dev</span><br><span class="line">tmpfs                    910M     0  910M    0% /dev/shm</span><br><span class="line">tmpfs                    910M   11M  900M    2% /run</span><br><span class="line">tmpfs                    910M     0  910M    0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root   38G  4.8G   34G   13% /</span><br><span class="line">/dev/sda1                197M  163M   35M   83% /boot</span><br><span class="line">tmpfs                    182M   28K  182M    1% /run/user/0</span><br><span class="line">/dev/sr0                 4.4G  4.4G     0  100% /run/media/root/CentOS 7 x86_64</span><br><span class="line">/dev/sdb1                991M  2.6M  922M    1% /newdisk</span><br></pre></td></tr></table></figure>

<ul>
<li><p>查询指定目录的磁盘占用情况</p>
<p>基本语法：<strong>du - h   目录</strong>，默认为当前目录。</p>
<p>options：- a 含文件    –max-depth = 1 子目录深度   - h 人性化一些，计量单位表示出来</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/du.png" alt="du.png"></p>
</li>
</ul>
</li>
</ul>
<h1 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h1><p>设置静态ip，方便我们远程访问。</p>
<p>有两种方法：一种是在图形化界面中设置即可，另一种以敲命令的方式改网卡的配置。</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/modify.png" alt="modify.png"></p>
<p>通过命令<code>cat /etc/sysconfig/network-scripts/ifcfg-ens33</code>查看网卡配置信息</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%8D%A1%E9%85%8D%E7%BD%AE.png" alt="查看网卡配置.png"></p>
<p><strong>当前ip为：inet 192.168.116.131</strong></p>
<p><strong>我们将其修改为静态ip：192.168.200.138</strong></p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/static.png" alt="static.png"></p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/VMnet8.png" alt="VMnet8.png"></p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/VMnet8_%E7%BD%91%E5%85%B3.png" alt="VMnet8_网关.png"></p>
<h1 id="主机名和hosts映射"><a href="#主机名和hosts映射" class="headerlink" title="主机名和hosts映射"></a>主机名和hosts映射</h1><p>修改主机名，我们可以修改**/etc/hostname**配置文件</p>
<p>记忆毫无规律的ip地址对于人来说有点困难，所以我们可以将主机名和ip地址映射起来，这样我们只需要记忆主机名就可以了。</p>
<ol>
<li><p>宿主机进入到<strong>C:/Windows/System32/drivers/etc/hosts</strong>文件中，增加一行数据。<strong>192.168.200.138   CentOS7</strong></p>
</li>
<li><p>ping CentOS7</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/ping_hostname.png" alt="ping_hostname.png"></p>
</li>
<li><p>虚拟机进入到/etc/hosts</p>
<p>增加一行数据，<strong>192.168.200.1  host_machine</strong></p>
<p>ping host_machine</p>
</li>
</ol>
<h1 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h1><p>linux学习笔记一 ps （英文全拼：process status）命令用于显示当前进程的状态，类似于 windows 的任务管理器。</p>
<p>实例：系统中是否有sshd服务</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/process_status.png" alt="process_status.png"></p>
<h1 id="RPM包的管理"><a href="#RPM包的管理" class="headerlink" title="RPM包的管理"></a>RPM包的管理</h1><ul>
<li><p>查询</p>
<p>rpm -qa :查询所安装的所有rpm软件包</p>
<p>rpm -qa  |  more</p>
<p>rpm  -qa  | grep firefox</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/firefox.png" alt="firefox.png"></p>
<p>rpm  -qi  软件包名    ：查询软件包信息</p>
<p>rpm  -q  firefox：查询软件包是否安装</p>
</li>
</ul>
<ul>
<li><p>卸载</p>
<p>rpm  -e  RPM包的名称   //  - e 表示erase</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/erase.png" alt="erase.png"></p>
</li>
<li><p>安装</p>
<p>rpm - ivh  RPM包全路径名称</p>
<p>参数说明：</p>
<p>i  =  install  安装</p>
<p>v =  verbose 提示</p>
<p>h =  hash 进度条</p>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/install.png" alt="install.png"></p>
</li>
</ul>
<h1 id="YUM包管理"><a href="#YUM包管理" class="headerlink" title="YUM包管理"></a>YUM包管理</h1><p>Yum是一个Shell前端软件包管理器，基于RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包。</p>
<ul>
<li><p>查询yum服务器是否有需要安装的软件</p>
<p>yum  list | grep xx</p>
</li>
<li><p>安装指定的yum包</p>
<p>yum install xx</p>
</li>
</ul>
<p><img src="/2022/05/05/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/yum.png" alt="yum.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wangpeng-developer.github.io/2022/03/27/Maven%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dog.jpg">
      <meta itemprop="name" content="Peng Wang">
      <meta itemprop="description" content="Attitude is everything">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Peng'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/27/Maven%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">Maven笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-03-27 20:45:25 / 修改时间：20:56:20" itemprop="dateCreated datePublished" datetime="2022-03-27T20:45:25+08:00">2022-03-27</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Maven简介"><a href="#Maven简介" class="headerlink" title="Maven简介"></a>Maven简介</h1><p>Maven是专门用于管理和构建Java项目的工具，它的主要功能有：</p>
<ul>
<li>提供了一套标准化的项目结构</li>
<li>提供了一套标准化的构建流程（编译，测试，打包，发布.）</li>
<li>提供了一套依赖管理机制</li>
</ul>
<ol>
<li><p>标准化的项目结构</p>
<p>不同IDE之间，项目结构不一样，不通用。而Maven提供了一套标准化的项目结构，所有IDE使用Maven构建的项目结构完全一样，所有IDE创建的Maven项目可以通用。其中src包含源代码和测试代码目录，pom.xml是项目核心配置文件。</p>
<p><img src="/2022/03/27/Maven%E7%AC%94%E8%AE%B0/Maven.png" alt="Maven.png"></p>
</li>
<li><p>仓库分类</p>
<p>本地仓库：自己计算机上的一个目录<br>中央仓库：由Maven团队维护的全球唯一的仓库，地址：<a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/">Click me</a><br>远程仓库（私服）：一般由公司团队搭建的私有仓库</p>
<p><img src="/2022/03/27/Maven%E7%AC%94%E8%AE%B0/repository.png" alt="repository.png"></p>
</li>
</ol>
<h1 id="Maven安装配置"><a href="#Maven安装配置" class="headerlink" title="Maven安装配置"></a>Maven安装配置</h1><ol>
<li>Maven安装地址：<a target="_blank" rel="noopener" href="https://maven.apache.org/download.cgi">Click me</a></li>
</ol>
<p><img src="/2022/03/27/Maven%E7%AC%94%E8%AE%B0/Maven_download.png" alt="Maven_download.png"></p>
<ol start="2">
<li>下载后，解压到D:\Software目录下。</li>
</ol>
<p><img src="/2022/03/27/Maven%E7%AC%94%E8%AE%B0/maven%E5%AD%98%E6%94%BE%E5%9C%B0%E5%9D%80.png" alt="maven存放地址.png"></p>
<ol start="3">
<li>配置环境变量。</li>
</ol>
<p><img src="/2022/03/27/Maven%E7%AC%94%E8%AE%B0/environment_one.png" alt="environment_one.png"></p>
<p><img src="/2022/03/27/Maven%E7%AC%94%E8%AE%B0/environment_two.png" alt="environment_two"></p>
<ol start="4">
<li><p>配置本地仓库：修改<code>conf/settings.xml</code>中<code>&lt;localRepository&gt;</code>标签为一个指定目录。<img src="/2022/03/27/Maven%E7%AC%94%E8%AE%B0/local_respository.png" alt="local_respository.png"></p>
</li>
<li><p>配置阿里云私服：修改<code>conf/settings.xml</code>中的<code>&lt;mirrors&gt;</code>标签。</p>
<p><img src="/2022/03/27/Maven%E7%AC%94%E8%AE%B0/mirror_respository.png" alt="mirror_respository.png"></p>
</li>
</ol>
<h1 id="IDEA配置Maven"><a href="#IDEA配置Maven" class="headerlink" title="IDEA配置Maven"></a>IDEA配置Maven</h1><p><img src="/2022/03/27/Maven%E7%AC%94%E8%AE%B0/idea.png" alt="idea"></p>
<h1 id="Maven坐标详解"><a href="#Maven坐标详解" class="headerlink" title="Maven坐标详解"></a>Maven坐标详解</h1><ol>
<li><p>什么是坐标？</p>
<ul>
<li><p>Maven中的坐标是资源的唯一标识</p>
</li>
<li><p>使用坐标来定义项目或引入项目中需要的依赖</p>
</li>
</ul>
</li>
<li><p>Maven坐标主要组成<br><strong>groupld：</strong>定义当前Maven项目隶属组织名称（通常是域名反写）<br><strong>artifactld：</strong>定义当前Maven项目名称（通常是模块名称）<br><strong>version：</strong>定义当前项目版本号</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 导入 mysql驱动jar包--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wangpeng-developer.github.io/2022/03/26/JDBC%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dog.jpg">
      <meta itemprop="name" content="Peng Wang">
      <meta itemprop="description" content="Attitude is everything">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Peng'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/26/JDBC%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">JDBC笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-26 18:40:12" itemprop="dateCreated datePublished" datetime="2022-03-26T18:40:12+08:00">2022-03-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-03-27 08:49:42" itemprop="dateModified" datetime="2022-03-27T08:49:42+08:00">2022-03-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="JDBC-简介"><a href="#JDBC-简介" class="headerlink" title="JDBC 简介"></a>JDBC 简介</h1><p>JDBC是Java DataBase Connectivity的缩写，全称为java数据库连接。JDBC就是使用Java语言操作关系型数据库的一套API。官方（sun公司）定义的一套操作所有关系型数据库的规则，即接口（interface），各个数据库厂商去实现这套接口，提供数据库驱动jar包，我们可以使用这套接口（JDBC）编程，真正执行的代码是驱动jar包中的实现类。</p>
<p><img src="/2022/03/26/JDBC%E7%AC%94%E8%AE%B0/diagram_one.png" alt="diagram_one"></p>
<h1 id="JDBC-API详解"><a href="#JDBC-API详解" class="headerlink" title="JDBC API详解"></a>JDBC API详解</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/sql/package-summary.html">Package java.sql</a> Provides the API for accessing and processing data stored in a data source (usually a relational database) using the JavaTM programming language.</p>
</blockquote>
<h2 id="DriverManager类"><a href="#DriverManager类" class="headerlink" title="DriverManager类"></a>DriverManager类</h2><p>类路径：java.sql.DriverManager</p>
<ol>
<li><p>注册驱动</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类加载之后会自动执行静态代码块中的内容</span></span><br><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            DriverManager.registerDriver(<span class="keyword">new</span> Driver());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException var1) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;Can&#x27;t register driver!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>java.sql.DriverManager类下的静态方法registerDriver</strong></p>
<p><img src="/2022/03/26/JDBC%E7%AC%94%E8%AE%B0/registerDriver.png" alt="registerDriver.png"></p>
</li>
</ol>
<ol start="2">
<li><p>获取连接对象</p>
<p><strong>java.sql.DriverManager类下的静态方法getConnection</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">(String url,</span></span></span><br><span class="line"><span class="params"><span class="function">                                       String user,</span></span></span><br><span class="line"><span class="params"><span class="function">                                       String password)</span></span></span><br><span class="line"><span class="function">                                <span class="keyword">throws</span> SQLException</span></span><br><span class="line"><span class="function"><span class="comment">// url jdbc:mysql://ip地址(域名)/数据库名称?参数键值对1&amp;参数键值对2</span></span></span><br><span class="line"><span class="function"><span class="comment">// jdbc:mysql://localhost:3306/jdbc</span></span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Connection接口"><a href="#Connection接口" class="headerlink" title="Connection接口"></a>Connection接口</h2><p>接口路径： java.sql.Connection</p>
<ol>
<li><p>获取执行SQL语句的对象</p>
</li>
<li><p>管理事务</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取执行sql的对象</span></span><br><span class="line"><span class="comment">// Statement createStatement() throws SQLException</span></span><br><span class="line">Statement stmt = conn.createStatement();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 管理事务</span></span><br><span class="line"><span class="comment">// void setAutoCommit(boolean autoCommit) throws SQLException</span></span><br><span class="line"><span class="comment">// 参数autoCommit - true启用自动提交模式; false禁用它</span></span><br><span class="line"> <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 开启事务</span></span><br><span class="line">            conn.setAutoCommit(<span class="keyword">false</span>);</span><br><span class="line">            <span class="keyword">int</span> count1 = stmt.executeUpdate(sql1);</span><br><span class="line">            System.out.println(count1);</span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">3</span> / <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> count2 = stmt.executeUpdate(sql2);</span><br><span class="line">            System.out.println(count2);</span><br><span class="line">            <span class="comment">// 提交事务</span></span><br><span class="line">            conn.commit();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="comment">// 回滚事务</span></span><br><span class="line">            conn.rollback();</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            stmt.close();</span><br><span class="line">            conn.close();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Statement接口"><a href="#Statement接口" class="headerlink" title="Statement接口"></a>Statement接口</h2><p>接口路径： java.sql.Statement</p>
<p><strong>执行sql语句</strong></p>
<p><img src="/2022/03/26/JDBC%E7%AC%94%E8%AE%B0/executeUpdate.png" alt="executeUpdate.png"></p>
<p><img src="/2022/03/26/JDBC%E7%AC%94%E8%AE%B0/executeQuery.png" alt="executeQuery.png"></p>
<h2 id="ResultSet接口"><a href="#ResultSet接口" class="headerlink" title="ResultSet接口"></a>ResultSet接口</h2><p>接口路径：java.sql.ResultSet</p>
<p>执行DQL语句，返回ResultSet对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">next</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span></span><br><span class="line"><span class="function"><span class="comment">// Moves the cursor forward one row from its current position. A ResultSet cursor is initially positioned before the first row; </span></span></span><br><span class="line"><span class="function"><span class="comment">// Returns:true if the new current row is valid; false if there are no more rows</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getInt</span><span class="params">(<span class="keyword">int</span> columnIndex)</span>  <span class="keyword">throws</span> SQLException</span></span><br><span class="line"><span class="function"><span class="comment">// Retrieves the value of the designated column in the current row of this ResultSet object </span></span></span><br><span class="line"><span class="function"><span class="comment">// Parameters:  columnIndex - the first column is 1, the second is 2, ...</span></span></span><br><span class="line"><span class="function">String <span class="title">getString</span><span class="params">(String columnLabel)</span> <span class="keyword">throws</span> SQLException</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参数为列号</span></span><br><span class="line"><span class="keyword">while</span> (resultSet.next()) &#123;</span><br><span class="line">    String sno = resultSet.getString(<span class="number">1</span>);</span><br><span class="line">    String sname = resultSet.getString(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> smoney = resultSet.getInt(<span class="number">3</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;学号：&quot;</span> + sno + <span class="string">&quot; 姓名：&quot;</span> +  sname + <span class="string">&quot; 账户：&quot;</span> + smoney);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">学号：1720060122 姓名：Taylor 账户：100</span></span><br><span class="line"><span class="comment">学号：1720060123 姓名：Jack 账户：100</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参数为列名</span></span><br><span class="line"><span class="keyword">while</span> (resultSet.next()) &#123;</span><br><span class="line">    String sno = resultSet.getString(<span class="string">&quot;sno&quot;</span>);</span><br><span class="line">    String sname = resultSet.getString(<span class="string">&quot;sname&quot;</span>);</span><br><span class="line">    <span class="keyword">int</span> smoney = resultSet.getInt(<span class="string">&quot;smoney&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;学号：&quot;</span> + sno + <span class="string">&quot; 姓名：&quot;</span> +  sname + <span class="string">&quot; 账户：&quot;</span> + smoney);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>从数据库中获取数据，然后将其数据封装到对象中，最后在存储在ArrayList集合当中。</strong></p>
<h2 id="PreparedStatement接口"><a href="#PreparedStatement接口" class="headerlink" title="PreparedStatement接口"></a>PreparedStatement接口</h2><p>接口路径：java.sql.PreparedStatement</p>
<p>作用：预编译sql语句并执行，预防sql注入问题，将敏感字符进行转义。</p>
<blockquote>
<p> <strong>SQl注入：</strong>SQL注入即是指web应用程序对用户输入数据的合法性没有判断或过滤不严，攻击者可以在web应用程序中事先定义好的查询语句的结尾上添加额外的SQL语句，在管理员不知情的情况下实现非法操作，以此来实现欺骗数据库服务器执行非授权的任意查询，从而进一步得到相应的数据信息。</p>
</blockquote>
<p><img src="/2022/03/26/JDBC%E7%AC%94%E8%AE%B0/sql.png" alt="sql.png"></p>
<p><img src="/2022/03/26/JDBC%E7%AC%94%E8%AE%B0/sql%E6%B3%A8%E5%85%A5%E4%BF%AE%E6%94%B9.png" alt="sql注入修改.png"></p>
<p>用户输入<strong>随意字符</strong>的用户名，输入密码为’ or ‘1’ = ‘1，用户就可以登录成功。这显然是不合理的。为了解决这个问题，就要用到PreparedStatement。</p>
<ol>
<li><p>获取PreparedStatement对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SQl语句中的参数值，使用?占位符来替代</span></span><br><span class="line">String sql = <span class="string">&quot;select * from user where username=? and password=?&quot;</span>;</span><br><span class="line"><span class="comment">// 通过Connection对象获取，并传入对应的sql语句</span></span><br><span class="line">PreparedStatement pstmt = conn.preparedStatement(sql);</span><br></pre></td></tr></table></figure></li>
<li><p>设置参数值(给？赋值)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setInt</span><span class="params">(<span class="keyword">int</span> parameterIndex, <span class="keyword">int</span> x)</span> <span class="keyword">throws</span> SQLException</span></span><br><span class="line"><span class="function">Parameters:</span></span><br><span class="line"><span class="function">parameterIndex - the first parameter is 1, the second is 2, ...</span></span><br><span class="line"><span class="function">x - the parameter value</span></span><br></pre></td></tr></table></figure></li>
<li><p>执行sql</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ResultSet <span class="title">executeQuery</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span></span><br><span class="line"><span class="function">Executes the SQL query in <span class="keyword">this</span> PreparedStatement object and returns the ResultSet object generated by the query.</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PreparedStatementDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException </span>&#123;</span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">        String url = <span class="string">&quot;jdbc:mysql://localhost:3306/jdbc&quot;</span>;</span><br><span class="line">        String username = <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;wangpeng&quot;</span>;</span><br><span class="line">        Connection conn = DriverManager.getConnection(url, username, password);</span><br><span class="line">        String name = <span class="string">&quot;wangpeng&quot;</span>;</span><br><span class="line">        String pwd = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">        String sql = <span class="string">&quot;select * from user where name = ? and pwd = ?&quot;</span>;</span><br><span class="line">        PreparedStatement preparedStatement = conn.prepareStatement(sql);</span><br><span class="line">        preparedStatement.setString(<span class="number">1</span>,name);</span><br><span class="line">        preparedStatement.setString(<span class="number">2</span>,pwd);</span><br><span class="line">        ResultSet resultSet = preparedStatement.executeQuery();</span><br><span class="line">        <span class="keyword">if</span>(resultSet.next()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;登录成功！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;登录失败！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        resultSet.close();</span><br><span class="line">        preparedStatement.close();</span><br><span class="line">        conn.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wangpeng-developer.github.io/2022/03/01/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dog.jpg">
      <meta itemprop="name" content="Peng Wang">
      <meta itemprop="description" content="Attitude is everything">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Peng'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/01/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="post-title-link" itemprop="url">Python面向对象</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-03-01 19:15:09 / 修改时间：19:59:31" itemprop="dateCreated datePublished" datetime="2022-03-01T19:15:09+08:00">2022-03-01</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="类对象"><a href="#类对象" class="headerlink" title="类对象"></a>类对象</h1><p>在<code>python</code>中对象几乎是无处不在的，变量、数据、函数都是对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;这是一条测试类&quot;&quot;&quot;</span></span><br><span class="line">    variable = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(Demo))</span><br><span class="line"><span class="built_in">print</span>(Demo.__doc__)</span><br><span class="line"><span class="built_in">print</span>(Demo.variable)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行结果</span></span><br><span class="line">[<span class="string">&#x27;__annotations__&#x27;</span>, <span class="string">&#x27;__builtins__&#x27;</span>, <span class="string">&#x27;__call__&#x27;</span>, <span class="string">&#x27;__class__&#x27;</span>, <span class="string">&#x27;__closure__&#x27;</span>, <span class="string">&#x27;__code__&#x27;</span>, <span class="string">&#x27;__defaults__&#x27;</span>, <span class="string">&#x27;__delattr__&#x27;</span>, <span class="string">&#x27;__dict__&#x27;</span>, <span class="string">&#x27;__dir__&#x27;</span>, <span class="string">&#x27;__doc__&#x27;</span>, <span class="string">&#x27;__eq__&#x27;</span>, <span class="string">&#x27;__format__&#x27;</span>, <span class="string">&#x27;__ge__&#x27;</span>, <span class="string">&#x27;__get__&#x27;</span>, <span class="string">&#x27;__getattribute__&#x27;</span>, <span class="string">&#x27;__globals__&#x27;</span>, <span class="string">&#x27;__gt__&#x27;</span>, <span class="string">&#x27;__hash__&#x27;</span>, <span class="string">&#x27;__init__&#x27;</span>, <span class="string">&#x27;__init_subclass__&#x27;</span>, <span class="string">&#x27;__kwdefaults__&#x27;</span>, <span class="string">&#x27;__le__&#x27;</span>, <span class="string">&#x27;__lt__&#x27;</span>, <span class="string">&#x27;__module__&#x27;</span>, <span class="string">&#x27;__name__&#x27;</span>, <span class="string">&#x27;__ne__&#x27;</span>, <span class="string">&#x27;__new__&#x27;</span>, <span class="string">&#x27;__qualname__&#x27;</span>, <span class="string">&#x27;__reduce__&#x27;</span>, <span class="string">&#x27;__reduce_ex__&#x27;</span>, <span class="string">&#x27;__repr__&#x27;</span>, <span class="string">&#x27;__setattr__&#x27;</span>, <span class="string">&#x27;__sizeof__&#x27;</span>, <span class="string">&#x27;__str__&#x27;</span>, <span class="string">&#x27;__subclasshook__&#x27;</span>]</span><br><span class="line">这是一个测试函数</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h1 id="定义一个简单的类"><a href="#定义一个简单的类" class="headerlink" title="定义一个简单的类"></a>定义一个简单的类</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 类名:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> 方法名(<span class="params">self, 参数列表</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：<strong>类名</strong>的命名规则要符合<strong>大驼峰命名法</strong></p>
<p>定义类时，如果当前类没有确切的父类，则可继承object</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;这是一个猫类&quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;小猫爱吃鱼&quot;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drink</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;小猫在喝水&quot;</span>)</span><br><span class="line">        </span><br><span class="line">tom = Cat()</span><br><span class="line">tom.eat()</span><br><span class="line">tom.drink()</span><br></pre></td></tr></table></figure>

<ul>
<li>在<code>Python</code>中使用类创建对象之后，<code>tom</code>变量中记录的是<strong>对象在内存中的地址</strong></li>
<li>也就是说<code>tom</code>变量引用了新建的猫对象</li>
<li>使用<code>print</code>输出对象变量，默认情况下，能够输出类名以及内存地址</li>
<li>这里的<strong>self</strong>其实是个对象，类似于Java中的this</li>
</ul>
<p><img src="/2022/03/01/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/self.png" alt="self"></p>
<p><img src="/2022/03/01/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/cat.png" alt="cat"></p>
<h2 id="init-方法"><a href="#init-方法" class="headerlink" title="__init__方法"></a><code>__init__</code>方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span>爱吃鱼&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat = Animal(<span class="string">&quot;小猫&quot;</span>)</span><br><span class="line">cat.eat()</span><br><span class="line"><span class="built_in">print</span>(cat)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>当使用<code>类名</code>创建对象时，会<strong>自动</strong>执行以下操作：</p>
<ol>
<li><p>为对象在内存中<strong>分配空间</strong>  - - 创建对象</p>
</li>
<li><p>为对象的属性<strong>设置初始值</strong>  - - 初始化方法(<code>__init__</code>)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 验证初始化方法在创建对象时自动被调用</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Initial</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;这是一个初始化方法！！&quot;</span>)</span><br><span class="line">       </span><br><span class="line">demo = Initial()</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h2 id="str-方法"><a href="#str-方法" class="headerlink" title="__str__方法"></a><code>__str__方法</code></h2><ul>
<li><p>在<code>Python</code>中，使用<code>print</code>输出<strong>对象变量</strong>，默认情况下，会输出创建该对象的类名以及在内存中的地址</p>
</li>
<li><p>如果希望对该输出值做出改变，想自定义输出的内容，则可以重写<code>__str__</code>方法</p>
<blockquote>
<p><em>注意：该方法必须返回一个字符串</em></p>
</blockquote>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;我是自定义内容&quot;</span></span><br><span class="line">    </span><br><span class="line">tom = Demo(<span class="string">&quot;Tom&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(tom)</span><br></pre></td></tr></table></figure>

<h2 id="私有属性和私有方法"><a href="#私有属性和私有方法" class="headerlink" title="私有属性和私有方法"></a>私有属性和私有方法</h2><ul>
<li>在定义属性或方法时，以双下划线开头，在外界不能够直接访问。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Woman</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.__age = <span class="number">18</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__secret</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span>的年龄为<span class="subst">&#123;self.__age&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/03/01/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wangpeng-developer.github.io/2021/11/21/Python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dog.jpg">
      <meta itemprop="name" content="Peng Wang">
      <meta itemprop="description" content="Attitude is everything">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Peng'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/21/Python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">Python文件操作</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-21 16:58:06" itemprop="dateCreated datePublished" datetime="2021-11-21T16:58:06+08:00">2021-11-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-03-01 19:32:29" itemprop="dateModified" datetime="2022-03-01T19:32:29+08:00">2022-03-01</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Python文件操作"><a href="#Python文件操作" class="headerlink" title="Python文件操作"></a>Python文件操作</h1><p>读文件：打开文件    读文件    关闭文件</p>
<p>写文件：打开文件    写文件    关闭文件</p>
<h2 id="open-方法"><a href="#open-方法" class="headerlink" title="open()方法"></a>open()方法</h2><p><code>open()</code>returns a <strong>file object</strong> and is most commonly used with two arguments: <code>open(filename, mode)</code>.</p>
<blockquote>
<p>The <strong>first argument</strong> is a string containing the filename. The <strong>second argument</strong> is another string containing a few characters describing the way in which the file will be used</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fp = <span class="built_in">open</span>(<span class="string">&quot;./demo01.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(fp.read())</span><br><span class="line">fp.close()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fp = <span class="built_in">open</span>(<span class="string">&quot;./demo01.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line">fp.write(<span class="string">&quot;This is first line\nThis is the second line&quot;</span>)</span><br><span class="line">fp.close()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>size is an optional numeric argument. When <em>size</em> is <strong>omitted or negative</strong>, the entire contents of the file will be read and returned; </p>
</blockquote>
<p>如果<code>read(size)</code>方法里面的参数值为<strong>空</strong>或者<strong>负数</strong>，则文件中的数据将全部被读取。</p>
<p>如果为n（n&gt;0）的话，将读取n个字节的数据。</p>
<h2 id="readline-方法"><a href="#readline-方法" class="headerlink" title="readline()方法"></a>readline()方法</h2><p>读取一行的数据，包括换行字符\n.</p>
<h2 id="readlines-方法"><a href="#readlines-方法" class="headerlink" title="readlines()方法"></a>readlines()方法</h2><p>读取文件中全部行的数据，并以<strong>列表</strong>的方式返回。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fp = <span class="built_in">open</span>(<span class="string">&quot;./demo01.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(fp.readlines())</span><br><span class="line">fp.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="string">&#x27;This is first line\n&#x27;</span>, <span class="string">&#x27;This is the second line&#x27;</span>]</span><br></pre></td></tr></table></figure>

<h2 id="with语句"><a href="#with语句" class="headerlink" title="with语句"></a>with语句</h2><blockquote>
<p>It is good practice to use the <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#with"><code>with</code></a> keyword when dealing with file objects. </p>
</blockquote>
<ul>
<li>with语句可以自动关闭文件，而不用我们手动去关闭。</li>
<li><code>with open(&quot;filename&quot;, &quot;open_mode&quot;) as fp:</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;./demo.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, ) <span class="keyword">as</span> fp:</span><br><span class="line">    fp.write(<span class="string">&quot;测试with语句&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(fp.closed)               <span class="comment"># true</span></span><br></pre></td></tr></table></figure>

<h2 id="tell-方法"><a href="#tell-方法" class="headerlink" title="tell()方法"></a>tell()方法</h2><blockquote>
<p><code>f.tell()</code> returns an integer giving the file object’s current position in the file </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./demo01.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    <span class="built_in">print</span>(fp.readline(), end=<span class="string">&#x27;&#x27;</span>)   <span class="comment"># This as the first line</span></span><br><span class="line">    <span class="built_in">print</span>(fp.tell())               <span class="comment"># 24</span></span><br><span class="line">    <span class="built_in">print</span>(fp.read())               <span class="comment"># This is the second line</span></span><br></pre></td></tr></table></figure>

<h2 id="seek-方法"><a href="#seek-方法" class="headerlink" title="seek()方法"></a>seek()方法</h2><blockquote>
<p>To change the file object’s position, use <code>f.seek(offset, whence)</code></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fileObject.seek(offset[, whence])</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>seek()</strong> 方法:用于移动<strong>文件对象指针</strong>到指定位置。</li>
<li><strong>offset ：</strong>开始的偏移量，也就是代表需要移动偏移的字节数</li>
<li><strong>whence：</strong>可选，默认值为 0。表示要从哪个位置开始偏移；0代表从文件开头开始算起，1代表从当前位置开始算起，2代表从文件末尾算起。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;./demo01.txt&quot;</span>, <span class="string">&quot;r+&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    fp.seek(<span class="number">5</span>, <span class="number">0</span>)</span><br><span class="line">    fp.write(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">    fp.seek(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="built_in">print</span>(fp.read())</span><br></pre></td></tr></table></figure>






      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wangpeng-developer.github.io/2021/11/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dog.jpg">
      <meta itemprop="name" content="Peng Wang">
      <meta itemprop="description" content="Attitude is everything">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Peng'blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" class="post-title-link" itemprop="url">博客搭建</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-14 22:52:43" itemprop="dateCreated datePublished" datetime="2021-11-14T22:52:43+08:00">2021-11-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-22 14:41:15" itemprop="dateModified" datetime="2021-12-22T14:41:15+08:00">2021-12-22</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="注册GitHub账号"><a href="#注册GitHub账号" class="headerlink" title="注册GitHub账号"></a>注册GitHub账号</h1><p>搭建博客需要GitHub账号，这样我们就可以将博客发布到GitHub上去，让GitHub帮我们托管。<br><a target="_blank" rel="noopener" href="https://github.com/">GitHub官网</a></p>
<p>如果未注册，可以点击主页右上角的Sign up来进行相应的注册。如果已经注册，直接登录即可。<br><img src="/2021/11/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/github_homepage.png" alt="github_homepage"><br><img src="/2021/11/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Sign_in.png" alt="Sign_in"><br>创建仓库名一定要按照your_username.github.io的格式取名。<br><img src="/2021/11/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/new_repository.png" alt="new_repostitory"></p>
<h1 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h1><p>git可以将本地仓库push到github远程仓库上去。<br><a target="_blank" rel="noopener" href="https://git-scm.com/">git官网</a><br>进入git官网后，我们可以根据自己电脑的类型选择合适的git版本。我是windows系统的笔记本，所以选择windows的git版本。下载完后，安装过程记得修改安装路径，最好安装在除C盘以外的其他盘，其他就一直next，一直下一步即可。<br><img src="/2021/11/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/git_download.png" alt="git_download"><br>安装结束后，win+R启动cmd，输入以下命令<br><code>git --version</code><br>能显示git版本号就说明安装成功了。</p>
<h1 id="安装nodejs"><a href="#安装nodejs" class="headerlink" title="安装nodejs"></a>安装nodejs</h1><p><a target="_blank" rel="noopener" href="https://nodejs.org/en/download/">nodejs官网</a><br><img src="/2021/11/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/nodejs.png" alt="nodejs"><br>选择合适的版本下载，安装过程一直下一步即可。<br>安装完成后，测试一下是否安装成功，输入以下命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>
<p>分别显示版本号即安装成功。</p>
<h1 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h1><p>我们可以在D盘新建一个文件夹，文件夹取名为Blog，进入该文件夹后，鼠标右击打开Git Bash Here，输入以下命令来安装hexo。<br><code>npm install -g hexo-cli</code><br>耐心等待一下啊！安装成功后，输入以下命令来初始化博客。<br><code>hexo init</code><br>接着再输入以下命令来静态部署<br><code>hexo g</code><br>等部署完成后，开启本地服务器来预览一下效果<br><code>hexo s</code><br><img src="/2021/11/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/hexo_s.png" alt="hexo_s"><br>浏览器输入 <a target="_blank" rel="noopener" href="http://localhost:4000/">http://localhost:4000</a> 即可打开部署好的网页。ctrl + c停止服务器。</p>
<h1 id="安装sublime编辑器"><a href="#安装sublime编辑器" class="headerlink" title="安装sublime编辑器"></a>安装sublime编辑器</h1><p><a target="_blank" rel="noopener" href="https://www.sublimetext.com/">sublime官网</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/11/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Peng Wang"
      src="/images/dog.jpg">
  <p class="site-author-name" itemprop="name">Peng Wang</p>
  <div class="site-description" itemprop="description">Attitude is everything</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/wangpeng-developer" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wangpeng-developer" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:wp1756575645@123.com" title="E-Mail → mailto:wp1756575645@123.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/webber-19-88" title="ZhiHu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;webber-19-88" rel="noopener" target="_blank"><i class="fab fa-quora fa-fw"></i>ZhiHu</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.runoob.com/" title="https:&#x2F;&#x2F;www.runoob.com&#x2F;" rel="noopener" target="_blank">菜鸟教程</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.baidu.com/" title="https:&#x2F;&#x2F;www.baidu.com&#x2F;" rel="noopener" target="_blank">百度</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
<div class="copyright">
  
  &copy; 2021 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Peng Wang</span>
</div>
<!--
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>
--><script color="0,0,0" opacity="0.5" zIndex="-1" count="150" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js">
</script>




        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
